<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees IP Intelligence Go: examples/onpremise/getting_started.go</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees IP Intelligence Go
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">IP Intelligence services for 51Degrees Pipeline</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('examples_2onpremise_2getting_started_8go-example.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<h2 class="g-docs__page-title">examples/onpremise/getting_started.go</h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<p>Getting started example of using 51Degrees IP intelligence.The example shows how to use 51Degrees on-premise IP intelligence to determine the country of a given IP address in golang wrapper integration.</p>
<p>This example is available in full on <a href="https://github.com/51Degrees/ip-intelligence-go-examples/tree/main/ipi_onpremise/getting_started">GitHub</a>.</p>
<h1 class="g-docs__section-heading">In detail, the example shows how to</h1>
<ol type="1">
<li>Specify config for engine: This setting specifies the performance profile that will be used when initializing the C library.</li>
</ol>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">config := ipi_interop.NewConfigIpi(ipi_interop.InMemory)</div></div><ol type="1">
<li>Initialization of the engine with the following parameters: <div class="c-code__block c-code__block--outline"><div class="c-code__line">engine, err := ipi_onpremise.New(</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Optimized config provided</span></div><div class="c-code__line">    ipi_onpremise.WithConfigIpi(config),</div><div class="c-code__line">    <span class="c-code__comment">// Path to your data file</span></div><div class="c-code__line">    ipi_onpremise.WithDataFile(params.DataFile),</div><div class="c-code__line">    <span class="c-code__comment">// Enable automatic updates.</span></div><div class="c-code__line">    ipi_onpremise.WithAutoUpdate(<span class="c-code__keyword">false</span>),</div><div class="c-code__line"></div><div class="c-code__line">)</div></div> TODO: add description</li>
</ol>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">ipi_onpremise.WithConfigIpi(config)</div></div><p> TODO: add description</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">ipi_onpremise.WithDataFile(params.DataFile),</div></div><p> TODO: add description</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">ipi_onpremise.WithAutoUpdate(<span class="c-code__keyword">false</span>),</div></div><ol type="1">
<li>Engine output with the parameter of the required address to receive data <div class="c-code__block c-code__block--outline"><div class="c-code__line">result, err := engine.Process(ipiItem.IpAddress)</div></div></li>
<li>Checking for the presence of the result after engine processing <div class="c-code__block c-code__block--outline"><div class="c-code__line"><span class="c-code__keywordflow">if</span> result.HasValues() {}</div></div></li>
<li>Getting the results of the values after processing <div class="c-code__block c-code__block--outline"><div class="c-code__line">res, err := ipi_interop.GetPropertyValueAsRaw(result.CPtr, property)</div></div></li>
</ol>
<p>Expected output: </p><div class="c-code__block c-code__block--outline"><div class="c-code__line">...</div><div class="c-code__line">2025/06/10 09:45:06 Expected result <span class="c-code__keywordflow">for</span> 185.28.167.77:</div><div class="c-code__line">Expected &amp; Actual:</div><div class="c-code__line">IpRangeStart: <span class="c-code__stringliteral">&quot;185.28.167.0&quot;</span>:1</div><div class="c-code__line">IpRangeEnd: <span class="c-code__stringliteral">&quot;185.28.167.127&quot;</span>:1</div><div class="c-code__line">AccuracyRadius: <span class="c-code__stringliteral">&quot;485920&quot;</span>:1</div><div class="c-code__line">RegisteredCountry: <span class="c-code__stringliteral">&quot;GB&quot;</span>:1</div><div class="c-code__line">RegisteredName: <span class="c-code__stringliteral">&quot;CUSTOMERS-Subnet9&quot;</span>:1</div><div class="c-code__line">Longitude: <span class="c-code__stringliteral">&quot;80.339976195562613&quot;</span>:1</div><div class="c-code__line">Latitude: <span class="c-code__stringliteral">&quot;25.502792443617054&quot;</span>:1</div><div class="c-code__line">Areas: <span class="c-code__stringliteral">&quot;POLYGON((83.026215399639881 23.725699636829738,82.993255409405805 23.717459639271219,82.954802087466049 23.714712973418379,82.916348765526294 23.717459639271219,78.444776757103185 24.338206122013002,78.40083010345775 24.349192785424361,78.356883449812315 24.368419446394238,78.31843012787256 24.395886104922635,78.290963469344163 24.431592761009551,78.268990142521446 24.47004608294931,78.208563493758959 24.621112704855495,78.20307016205328 24.637592699972533,77.005523850215155 28.579058198797572,76.994537186803797 28.617511520737327,76.994537186803797 28.655964842677083,77.005523850215155 28.691671498764002,77.027497177037873 28.727378154850918,77.04947050386059 28.760338145084994,77.082430494094666 28.785058137760551,77.120883816034421 28.807031464583268,77.164830469679856 28.82076479384747,77.203283791619612 28.826258125553149,77.25272377697074 28.826258125553149,80.191656239509257 28.474684896389661,80.208136234626295 28.471938230536821,81.630909146397286 28.194524979400008,81.647389141514324 28.189031647694328,83.756828516495261 27.60948515274514,83.789788506729337 27.598498489333782,83.822748496963413 27.582018494216744,83.932615131077 27.513351847895748,83.960081789605397 27.491378521073031,83.982055116428114 27.469405194250314,84.487441633350628 26.859645374919889,84.509414960173345 26.829432050538653,84.558854945524459 26.73879207739494,84.575334940641497 26.697592089602345,84.828028199102761 25.788445692312386,84.83352153080844 25.744499038666952,84.83352153080844 25.703299050874357,84.817041535691402 25.662099063081758,84.795068208868685 25.623645741142003,83.756828516495261 24.272286141544846,83.72936185796685 24.247566148869289,83.542588579973753 24.069032868434707,83.526108584856715 24.055299539170505,83.218482009338658 23.805352946562088,83.185522019104582 23.783379619739371,83.147068697164826 23.766899624622333,83.026215399639881 23.725699636829738,83.026215399639881 23.725699636829738))&quot;</span>:1</div><div class="c-code__line"></div><div class="c-code__line">2025/06/10 09:45:06 Expected result <span class="c-code__keywordflow">for</span> fdaa:bbcc:ddee:0:995f:d63a:f2a1:f189:</div><div class="c-code__line">Expected &amp; Actual:</div><div class="c-code__line">IpRangeStart: <span class="c-code__stringliteral">&quot;fc00:0000:0000:0000:0000:0000:0000:0000&quot;</span>:1</div><div class="c-code__line">IpRangeEnd: <span class="c-code__stringliteral">&quot;fdff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&quot;</span>:1</div><div class="c-code__line">AccuracyRadius: <span class="c-code__stringliteral">&quot;-1&quot;</span>:1</div><div class="c-code__line">RegisteredCountry: <span class="c-code__stringliteral">&quot;Unknown&quot;</span>:1</div><div class="c-code__line">RegisteredName: <span class="c-code__stringliteral">&quot;IANA-V6-ULA&quot;</span>:1</div><div class="c-code__line">Longitude: <span class="c-code__stringliteral">&quot;0&quot;</span>:1</div><div class="c-code__line">Latitude: <span class="c-code__stringliteral">&quot;0.00274666585284&quot;</span>:1</div><div class="c-code__line">Areas: <span class="c-code__stringliteral">&quot;POLYGON EMPTY&quot;</span>:1</div><div class="c-code__line"></div><div class="c-code__line">2025/06/10 09:45:06 Not expected result <span class="c-code__keywordflow">for</span> 127.0.0.1:</div><div class="c-code__line">Expected:</div><div class="c-code__line"></div><div class="c-code__line">Actual:</div><div class="c-code__line">IpRangeStart: <span class="c-code__stringliteral">&quot;127.0.0.0&quot;</span>:1</div><div class="c-code__line">IpRangeEnd: <span class="c-code__stringliteral">&quot;127.255.255.255&quot;</span>:1</div><div class="c-code__line">AccuracyRadius: <span class="c-code__stringliteral">&quot;135802&quot;</span>:1</div><div class="c-code__line">RegisteredCountry: <span class="c-code__stringliteral">&quot;Unknown&quot;</span>:1</div><div class="c-code__line">RegisteredName: <span class="c-code__stringliteral">&quot;SPECIAL-IPV4-LOOPBACK-IANA-RESERVED&quot;</span>:1</div><div class="c-code__line">Longitude: <span class="c-code__stringliteral">&quot;-75.016937772759178&quot;</span>:1</div><div class="c-code__line">Latitude: <span class="c-code__stringliteral">&quot;40.071108127079071&quot;</span>:1</div><div class="c-code__line">Areas: <span class="c-code__stringliteral">&quot;POLYGON((-75.110324411755727 39.659108249153114,-75.154271065401161 39.656361583300274,-75.203711050752275 39.664601580858793,-75.291604358043159 39.683828241828671,-75.335551011688594 39.697561571092869,-75.384990997039708 39.716788232062747,-75.417950987273784 39.736014893032625,-75.45091097750786 39.757988219855342,-75.472884304330577 39.785454878383739,-75.494857631153295 39.815668202764975,-75.53331095309305 39.903561510055852,-75.544297616504409 39.939268166142767,-75.544297616504409 39.974974822229683,-75.53331095309305 40.065614795373392,-75.522324289681691 40.101321451460308,-75.505844294564653 40.134281441694391,-75.478377636036257 40.164494766075627,-74.994964445936461 40.573747978148745,-74.967497787408064 40.592974639118623,-74.940031128879667 40.609454634235661,-74.127018036439097 40.947294534134954,-74.088564714499341 40.961027863399153,-74.044618060853907 40.969267860957672,-73.995178075502793 40.969267860957672,-73.951231421857358 40.961027863399153,-73.912778099917603 40.947294534134954,-73.874324777977847 40.928067873165077,-73.841364787743771 40.90334788048952,-73.819391460921054 40.873134556108276,-73.802911465804016 40.84292123172704,-73.76995147556994 40.752281258583331,-73.76445814386426 40.719321268349255,-73.76995147556994 40.689107943968018,-73.775444807275619 40.656147953733942,-73.808404797509695 40.587481307412943,-73.813898129215374 40.568254646443066,-73.907284768211923 40.419934690389724,-73.940244758445999 40.381481368449968,-74.286324655903812 40.060121463667713,-74.324777977843567 40.032654805139316,-74.863124485000156 39.722281563768426,-74.896084475234233 39.705801568651388,-74.945524460585347 39.686574907681511,-74.978484450819423 39.675588244270152,-75.016937772759178 39.670094912564473,-75.110324411755727 39.659108249153114,-75.110324411755727 39.659108249153114))&quot;</span>:1</div></div><div class="c-code__block c-code__block--outline"></div> </div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
